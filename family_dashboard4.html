<!DOCTYPE html>
<html>
<head>
  <title>Our Family Resettlement Dashboard</title>
  <style>
    body { font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif; background-color: #f4f7f9; color: #333; line-height: 1.6; padding: 20px; }
    .container { max-width: 900px; margin: auto; }
    h1, h2 { color: #0056b3; border-bottom: 2px solid #f0f0f0; padding-bottom: 5px; }
    .card { background-color: #ffffff; border-radius: 8px; padding: 20px; margin-bottom: 20px; box-shadow: 0 4px 8px rgba(0,0,0,0.05); }
    
    input[type="text"], select { padding: 10px; margin-right: 10px; border: 1px solid #ccc; border-radius: 4px; min-width: 250px; font-size: 1em; }
    button { padding: 10px 18px; background-color: #0056b3; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 1em; }
    button:hover { background-color: #004494; }
    
    .delete-btn { background-color: #dc3545; font-size: 0.8em; padding: 5px 10px; }
    .delete-btn:hover { background-color: #c82333; }
    
    ul { list-style-type: none; padding-left: 0; }
    li { display: flex; justify-content: space-between; align-items: center; padding: 12px 0; border-bottom: 1px solid #f0f0f0; }
    li:last-child { border-bottom: none; }
    .input-group { margin-bottom: 15px; }
  </style>
</head>
<body>

  <div class="container">
    <h1>Family Resettlement Dashboard</h1>

    <div class="card">
        <h2>Documents Tracker</h2>
        <div class="input-group">
            <input type="text" id="docInput" placeholder="Add new document name...">
            <button id="addDocBtn">Add Document</button>
        </div>
        <ul id="document-list">
            <!-- Document items will be added here by JavaScript -->
        </ul>
    </div>

    <div class="card">
        <h2>Timeline & Communication Log</h2>
        <div class="input-group">
            <input type="text" id="logInput" placeholder="Add new log entry...">
            <button id="addLogBtn">Add Log</button>
        </div>
        <ul id="timeline-list">
            <!-- Log entries will be loaded here from memory -->
        </ul>
    </div>

    <div class="card">
        <h2>Interview Preparation</h2>
        <h3>Common Questions:</h3>
        <ul>
            <li><span>Why did you leave your country?</span></li>
            <li><span>What challenges did you face?</span></li>
        </ul>
    </div>
  </div>

  <script>
    // --- DATA ---
    let documents = JSON.parse(localStorage.getItem('documents')) || [
        { name: 'UNHCR Registration Paper', status: 'Submitted' },
        { name: 'Passport (Father)', status: 'Scanned' }
    ];
    let timelineLogs = JSON.parse(localStorage.getItem('timelineLogs')) || [];

    // --- ELEMENTS ---
    const documentListElement = document.getElementById('document-list');
    const addDocBtn = document.getElementById('addDocBtn');
    const docInput = document.getElementById('docInput');
    
    const timelineListElement = document.getElementById('timeline-list');
    const addLogBtn = document.getElementById('addLogBtn');
    const logInput = document.getElementById('logInput');

    // --- FUNCTIONS ---
    
    // Document Functions
    function saveDocuments() { localStorage.setItem('documents', JSON.stringify(documents)); }

    function renderDocuments() {
        documentListElement.innerHTML = ''; 
        documents.forEach((doc, index) => {
            const listItem = document.createElement('li');
            listItem.innerHTML = `
                <span>${doc.name}</span>
                <select class="status-select" data-index="${index}">
                    <option value="Pending" ${doc.status === 'Pending' ? 'selected' : ''}>Pending</option>
                    <option value="Submitted" ${doc.status === 'Submitted' ? 'selected' : ''}>Submitted</option>
                    <option value="Scanned" ${doc.status === 'Scanned' ? 'selected' : ''}>Scanned, Ready</option>
                </select>
            `;
            documentListElement.appendChild(listItem);
        });
    }

    function handleAddDocument() {
        const newDocText = docInput.value.trim();
        if (newDocText === "") { return; }
        documents.push({ name: newDocText, status: 'Pending' });
        renderDocuments();
        saveDocuments();
        docInput.value = "";
    }
    
    function handleStatusChange(event) {
        if (event.target.classList.contains('status-select')) {
            const selectedIndex = event.target.dataset.index;
            documents[selectedIndex].status = event.target.value;
            saveDocuments();
        }
    }

    // Timeline Log Functions
    function saveLogs() { localStorage.setItem('timelineLogs', JSON.stringify(timelineLogs)); }

    function renderLogs() {
        timelineListElement.innerHTML = '';
        timelineLogs.forEach((log, index) => {
            const listItem = document.createElement('li');
            listItem.innerHTML = `
                <span><strong>${log.date}:</strong> ${log.text}</span>
                <button class="delete-btn" data-index="${index}">Delete</button>
            `;
            timelineListElement.appendChild(listItem);
        });
    }

    function handleAddLog() {
        const newLogText = logInput.value.trim();
        if (newLogText === "") { return; }
        const today = new Date();
        const dateString = today.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });
        timelineLogs.unshift({ date: dateString, text: newLogText });
        renderLogs();
        saveLogs();
        logInput.value = "";
    }

    function handleDeleteLog(event) {
        if (event.target.classList.contains('delete-btn')) {
            if (confirm('Are you sure you want to delete this log entry?')) {
                const logIndex = event.target.dataset.index;
                // Since we use unshift, the array is reversed from the view.
                // A simple way to fix this is to get the correct index.
                const correctIndex = (timelineLogs.length - 1) - parseInt(logIndex);
                timelineLogs.splice(correctIndex, 1);
                renderLogs();
                saveLogs();
            }
        }
    }

    // --- EVENT LISTENERS ---
    addDocBtn.addEventListener('click', handleAddDocument);
    documentListElement.addEventListener('change', handleStatusChange);
    
    addLogBtn.addEventListener('click', handleAddLog);
    timelineListElement.addEventListener('click', handleDeleteLog);

    // --- INITIALIZE THE PAGE ---
    renderDocuments();
    renderLogs();
  </script>

</body>
</html>