<!DOCTYPE html>
<html>
<head>
  <title>Our Family Resettlement Dashboard</title>
  <style>
    body { font-family: sans-serif; background-color: #f4f4f9; color: #333; line-height: 1.6; padding: 20px; }
    h1, h2 { color: #0056b3; }
    div { background-color: #ffffff; border: 1px solid #ddd; border-radius: 8px; padding: 20px; margin-bottom: 20px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
    strong, .status-label { font-weight: bold; }
    .status-Submitted { color: #28a745; }
    .status-Pending { color: #ffc107; }
    .status-Scanned { color: #17a2b8; }
    input[type="text"], select { padding: 8px; margin-right: 10px; border: 1px solid #ccc; border-radius: 4px; min-width: 200px; }
    button { padding: 8px 15px; background-color: #0056b3; color: white; border: none; border-radius: 4px; cursor: pointer; }
    button:hover { background-color: #004494; }
    ul { list-style-type: none; padding-left: 0; }
    li { padding: 8px 0; border-bottom: 1px solid #eee; }
    li:last-child { border-bottom: none; }
  </style>
</head>
<body>

  <h1>Family Resettlement Dashboard</h1>

  <div>
    <h2>Documents Tracker</h2>
    <ul id="document-list">
      <!-- Document items are hard-coded for now -->
       <li>UNHCR Registration Paper: 
          <select>
            <option value="Pending">Pending</option>
            <option value="Submitted" selected>Submitted</option>
            <option value="Scanned">Scanned, Ready</option>
          </select>
       </li>
       <li>Passport (Father):
          <select>
            <option value="Pending">Pending</option>
            <option value="Submitted">Submitted</option>
            <option value="Scanned" selected>Scanned, Ready</option>
          </select>
       </li>
       <li>Passport (Mother):
          <select>
            <option value="Pending" selected>Pending</option>
            <option value="Submitted">Submitted</option>
            <option value="Scanned">Scanned, Ready</option>
          </select>
       </li>
    </ul>
  </div>

  <div>
    <h2>Timeline & Communication Log</h2>
    <input type="text" id="logInput" placeholder="Add new log entry...">
    <button id="addLogBtn">Add Log</button>
    <br><br>
    <ul id="timeline-list">
      <!-- Log entries will be loaded here from memory -->
    </ul>
  </div>

  <div>
    <h2>Interview Preparation</h2>
    <h3>Common Questions:</h3>
    <ul>
      <li>Why did you leave your country?</li>
      <li>What challenges did you face?</li>
    </ul>
  </div>

  <script>
    // --- PART 2: TIMELINE LOG WITH MEMORY ---

    const addLogBtn = document.getElementById('addLogBtn');
    const logInput = document.getElementById('logInput');
    const timelineList = document.getElementById('timeline-list');

    // Load logs from localStorage when the page loads
    let savedLogs = JSON.parse(localStorage.getItem('timelineLogs')) || [];

    function renderLogs() {
      timelineList.innerHTML = ''; // Clear the list before adding items
      savedLogs.forEach(log => {
        const newListItem = document.createElement('li');
        newListItem.innerHTML = `<strong>${log.date}:</strong> ${log.text}`;
        timelineList.appendChild(newListItem);
      });
    }
    
    function saveAndRenderLogs() {
        localStorage.setItem('timelineLogs', JSON.stringify(savedLogs));
        renderLogs();
    }

    addLogBtn.addEventListener('click', function() {
      const newLogText = logInput.value.trim(); // use .trim() to remove empty spaces
      if (newLogText === "") {
        alert("Please write something in the box!");
        return;
      }

      const today = new Date();
      const dateString = today.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });
      
      savedLogs.unshift({ date: dateString, text: newLogText });
      
      saveAndRenderLogs();
      
      logInput.value = "";
    });

    // --- INITIALIZE THE PAGE ---
    // This runs when the page first loads and displays any saved logs
    renderLogs();

  </script>

</body>
</html>